 
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>网络安全智能监管系统</title>
    <style>
        body { font-family: "Microsoft YaHei", sans-serif; margin: 20px }
        .container { display: flex; gap: 30px }
        table { border-collapse: collapse; width: 100% }
        th, td { border: 1px solid #ddd; padding: 12px; text-align: left }
        th { background-color: #003366; color: white }
        tr:nth-child(even) { background-color: #f2f2f2 }
        .violation { color: #cc0000; font-weight: bold }
        .banned { background-color: #ffe6e6 }
        button { padding: 6px 12px; cursor: pointer }
    </style>
</head>
<body>
    <h1>网络安全智能监管系统</h1>
    <div class="container">
        <div>
            <h2>实时监测列表 (100条)</h2>
            <button onclick="generateIPs()">刷新监测数据</button>
            <table id="ipTable"></table>
        </div>
        <div>
            <h2>封禁名单</h2>
            <table id="bannedList"></table>
        </div>
    </div>

<script>
const violationTypes = [
    "色情", "开盒", "赌博", "诈骗", "恐吓", 
    "暴力", "血腥", "叛国", "黑客", "洗钱",
    "造谣", "贩毒", "侵权", "间谍", "传销"
];

let generatedIPs = new Set();
let bannedIPs = JSON.parse(localStorage.getItem('bannedIPs') || '[]');

function generateIP() {
    let ip;
    do {
        ip = Array.from({length:4}, () => Math.floor(Math.random() * 256)).join('.');
    } while(generatedIPs.has(ip) || bannedIPs.some(b => b.ip === ip));
    generatedIPs.add(ip);
    return ip;
}

function detectViolations() {
    const violations = new Set();
    const count = Math.floor(Math.random() * 3) + 1;
    while(violations.size < count) {
        violations.add(violationTypes[Math.floor(Math.random() * violationTypes.length)]);
    }
    return Array.from(violations);
}

function banIP(ip, violations) {
    if (!bannedIPs.some(b => b.ip === ip)) {
        bannedIPs.push({
            ip,
            violations,
            timestamp: new Date().toLocaleString()
        });
        localStorage.setItem('bannedIPs', JSON.stringify(bannedIPs));
        generateIPs();
    }
}

function generateIPs() {
    generatedIPs.clear();
    const table = document.getElementById('ipTable');
    table.innerHTML = `
        <tr>
            <th>IP地址</th>
            <th>违规状态</th>
            <th>违规类型</th>
            <th>操作</th>
        </tr>
    `;

    for (let i = 0; i < 100; i++) {
        const ip = generateIP();
        const violations = detectViolations();
        const row = document.createElement('tr');
        row.innerHTML = `
            <td>${ip}</td>
            <td class="violation">${violations.length ? '违规' : '正常'}</td>
            <td>${violations.join(' / ')}</td>
            <td>
                ${violations.length 
                    ? `<button onclick="banIP('${ip}', ['${violations.join("','")}'])">封禁</button>`
                    : '-'}
            </td>
        `;
        table.appendChild(row);
    }
    updateBannedList();
}

function updateBannedList() {
    const list = document.getElementById('bannedList');
    list.innerHTML = `
        <tr>
            <th>封禁IP</th>
            <th>违规类型</th>
            <th>封禁时间</th>
        </tr>
    `;
    bannedIPs.forEach(b => {
        const row = document.createElement('tr');
        row.className = 'banned';
        row.innerHTML = `
            <td>${b.ip}</td>
            <td>${b.violations.join(' / ')}</td>
            <td>${b.timestamp}</td>
        `;
        list.appendChild(row);
    });
}

// 初始化
generateIPs();
</script>
</body>
</html>
 