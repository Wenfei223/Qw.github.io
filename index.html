 
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>网络安全卫士 - 国家网络空间治理平台</title>
    <style>
        :root {
            --main-red: #d40000;
            --dark-red: #9c0000;
            --light-gray: #f5f5f5;
        }

        body {
            font-family: '微软雅黑', sans-serif;
            margin: 0;
            padding: 20px;
            background: var(--light-gray);
        }

        .header {
            background: var(--main-red);
            color: white;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
        }

        .header h1 {
            margin: 0;
            font-size: 28px;
            display: flex;
            align-items: center;
        }

        .shield-icon {
            width: 40px;
            height: 40px;
            margin-right: 15px;
        }

        .container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .ip-list {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 6px rgba(0,0,0,0.1);
        }

        .ip-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px;
            margin: 8px 0;
            border-radius: 4px;
            background: var(--light-gray);
        }

        .ip-item.banned {
            background: #ffe8e8;
        }

        .violation-tag {
            font-size: 12px;
            padding: 2px 8px;
            border-radius: 12px;
            margin-left: 10px;
        }

        .red-tag {
            background: var(--dark-red);
            color: white;
        }

        button {
            padding: 6px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: 0.3s;
        }

        .ban-btn {
            background: var(--main-red);
            color: white;
        }

        .unban-btn {
            background: #4CAF50;
            color: white;
        }

        .stats {
            background: white;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            box-shadow: 0 2px 6px rgba(0,0,0,0.1);
        }
    </style>
</head>
<body>
    <div class="header">
        <svg class="shield-icon" viewBox="0 0 24 24">
            <path fill="currentColor" d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 19.92C7.06 20.44 4 16.07 4 11V5.3l8-3.57 8 3.57V11c0 5.07-3.06 9.44-8 9.92z"/>
        </svg>
        <h1>国家网络空间安全治理系统</h1>
    </div>

    <div class="stats" id="stats"></div>
    <div class="container">
        <div class="ip-list" id="activeList"></div>
        <div class="ip-list" id="bannedList"></div>
    </div>

<script>
const violationTypes = [
    '色情', '开盒', '赌博', '诈骗', '恐吓', 
    '暴力', '血腥', '叛国', '黑客', '言论'
];

function generateIP() {
    return Array.from({length:4}, () => Math.floor(Math.random() * 256)).join('.');
}

function generateData() {
    const ips = new Set();
    while(ips.size < 200) ips.add(generateIP());
    
    const normalRatio = 0.42 + Math.random() * 0.47;
    const normalCount = Math.floor(200 * normalRatio);
    
    return Array.from(ips).map(ip => {
        const isNormal = Math.random() < normalRatio;
        return {
            ip,
            status: isNormal ? '正常' : '违规',
            violation: isNormal ? null : violationTypes[Math.floor(Math.random() * violationTypes.length)]
        };
    });
}

function createIPElement(ipData, isBanned = false) {
    const div = document.createElement('div');
    div.className = `ip-item${isBanned ? ' banned' : ''}`;
    
    const left = document.createElement('div');
    left.innerHTML = `
        ${ipData.ip}
        ${ipData.violation ? `<span class="violation-tag red-tag">${ipData.violation}</span>` : ''}
    `;
    
    const btn = document.createElement('button');
    btn.className = isBanned ? 'unban-btn' : 'ban-btn';
    btn.textContent = isBanned ? '解封' : '封禁';
    
    btn.onclick = () => {
        const banned = JSON.parse(localStorage.getItem('banned') || '[]');
        if(isBanned) {
            localStorage.setItem('banned', JSON.stringify(banned.filter(x => x !== ipData.ip)));
        } else {
            if(!banned.includes(ipData.ip)) {
                localStorage.setItem('banned', JSON.stringify([...banned, ipData.ip]));
            }
        }
        updateUI();
    };
    
    div.appendChild(left);
    div.appendChild(btn);
    return div;
}

function updateUI() {
    const data = generateData();
    const banned = JSON.parse(localStorage.getItem('banned') || '[]');
    
    // 统计信息
    const normalCount = data.filter(x => x.status === '正常').length;
    document.getElementById('stats').innerHTML = `
        当前网络安全态势：正常IP占比 ${(normalCount/200*100).toFixed(1)}%
        <div style="color:#666;font-size:14px;margin-top:8px">
            累计封禁IP：${banned.length}个 | 最新检测时间：${new Date().toLocaleString()}
        </div>
    `;

    // 活跃列表
    const activeList = document.getElementById('activeList');
    activeList.innerHTML = '<h3>实时网络节点监控</h3>';
    data.filter(x => !banned.includes(x.ip)).forEach(ipData => {
        activeList.appendChild(createIPElement(ipData));
    });

    // 封禁列表
    const bannedList = document.getElementById('bannedList');
    bannedList.innerHTML = '<h3>已封禁IP列表</h3>';
    banned.forEach(ip => {
        bannedList.appendChild(createIPElement({ip, status: '封禁'}, true));
    });
}

// 初始化
localStorage.removeItem('banned'); // 测试时打开
updateUI();
setInterval(updateUI, 60000); // 每分钟自动刷新
</script>
</body>
</html>
 